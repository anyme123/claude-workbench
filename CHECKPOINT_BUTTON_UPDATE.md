# 检查点按钮位置更新说明

## 变更内容

根据用户反馈，检查点按钮的位置已从顶部工具栏移至底部输入区域，与其他模式切换按钮放在同一行。

## 新的按钮位置

### 位置描述
- **之前**：会话页面顶部工具栏（单独一行）
- **现在**：底部输入框区域，与以下按钮在同一行：
  - 模型选择器 (Sonnet/Opus/Sonnet1M)
  - 思考模式切换
  - Plan模式切换
  - **检查点按钮** ← 新位置
  - 会话成本显示
  - 优化按钮
  - 发送按钮

### 视觉布局

```
┌─────────────────────────────────────────────────────────────┐
│                      消息区域                                  │
│                                                               │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│  [输入框...]                                        [展开]    │
├─────────────────────────────────────────────────────────────┤
│ [Sonnet▼] [思考模式] [Plan] [检查点] [$0.05]  [优化▼] [发送] │
└─────────────────────────────────────────────────────────────┘
```

## 优势

1. **更符合使用习惯** - 与其他功能按钮放在一起，便于快速切换
2. **节省空间** - 不占用额外的工具栏空间
3. **视觉一致性** - 与思考模式、Plan模式等功能按钮保持一致的设计
4. **易于访问** - 在输入提示词时可以方便地创建检查点

## 功能特性

- **智能显示**：只在有消息记录时显示（避免新会话时显示）
- **状态指示**：
  - 未激活：轮廓样式（outline）
  - 已激活：蓝色填充（default）
- **图标**：GitBranch 🌿
- **文本**：检查点

## 修改的文件

1. **FloatingPromptInput/types.ts**
   - 添加 `showCheckpointPanel?: boolean`
   - 添加 `onToggleCheckpointPanel?: () => void`

2. **FloatingPromptInput/index.tsx**
   - 导入 GitBranch 图标
   - 在按钮行中添加检查点按钮
   - 添加条件渲染逻辑

3. **ClaudeCodeSession.tsx**
   - 移除顶部工具栏代码
   - 更新 FloatingPromptInput props
   - 移除 GitBranch 导入（不再需要）

## 使用方法

1. 进入任意会话页面
2. 在底部输入区域找到"检查点"按钮（与思考模式等按钮在同一行）
3. 点击按钮打开/关闭检查点时间线面板
4. 在时间线面板中管理检查点

## 兼容性

- ✅ 与现有功能完全兼容
- ✅ 不影响其他按钮的功能
- ✅ 响应式设计保持不变
- ✅ 所有检查点功能正常工作

## 测试建议

1. 创建新会话 → 检查按钮不应显示
2. 发送第一条消息 → 检查按钮应出现
3. 点击检查点按钮 → 面板应正常打开/关闭
4. 检查按钮状态 → 应正确反映面板的打开/关闭状态
5. 测试其他按钮 → 确保没有布局冲突
